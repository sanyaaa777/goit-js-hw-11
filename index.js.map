{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"; \n\nconst loadingMessage = document.getElementById(\"loading-message\");\nconst myApiKey = \"49411735-b32ab4d57ab72698c2bda355f\";\nconst URL = \"https://pixabay.com/api/\";\n\nexport async function axiosImages(query) {\n    try {\n        const response = await axios.get(URL, {\n            params: {\n                key: myApiKey,\n                q: query,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n                safesearch: \"true\"\n            },\n        });\n        return response.data.hits;\n    } catch (error) {\n        console.error(\"Error fetching images:\", error);\n        iziToast.error({\n            message: \"An error occurred while fetching images. Please try again!\",\n            position: \"topRight\",\n            messageColor: \"#FAFAFB\",\n            backgroundColor: \"#EF4040\"\n        });\n        return [];\n    } finally {\n        if (loadingMessage) loadingMessage.style.display = \"none\";\n    }\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function displayImages(images) {\n    gallery.innerHTML = \"\";\n\n    const markup = images\n        .map(\n            (image) => `\n        <li class=\"img-card\">\n            <a href=\"${image.largeImageURL}\">\n                <img \n                    src=\"${image.webformatURL}\" \n                    alt=\"${image.tags}\" \n                    data-source=\"${image.largeImageURL}\" \n                />\n            </a>\n            <div class=\"image-info\">\n                <p><strong>Likes:</strong> ${image.likes}</p>\n                <p><strong>Views:</strong> ${image.views}</p>\n                <p><strong>Comments:</strong> ${image.comments}</p>\n                <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n        </li>`\n        )\n        .join(\"\");\n\n    gallery.innerHTML = `${markup}`;\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n    } else {\n        lightbox.refresh();\n    }\n}","import { axiosImages } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { displayImages } from './js/render-functions';\n\nconst form = document.querySelector('form');\nconst loadingMessage = document.getElementById('loading-message');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', async evt => {\n  evt.preventDefault();\n\n  const input = evt.target.querySelector('input');\n  const inputValue = input.value.trim();\n\n  if (inputValue === '') {\n    iziToast.error({\n      message: 'Please fill in the field!',\n      position: 'topRight',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n    return;\n  }\n\n  if (loadingMessage) loadingMessage.style.display = 'block';\n\n  try {\n    const images = await axiosImages(inputValue);\n\n    if (!images || images.length === 0) {\n      gallery.innerHTML = '';\n      iziToast.warning({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n      });\n      return;\n    }\n\n    displayImages(images);\n  } catch (error) {\n    iziToast.error({\n      message: 'Error',\n      position: 'topRight',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n  } finally {\n    if (loadingMessage) loadingMessage.style.display = 'none';\n  }\n\n  form.reset();\n});\n"],"names":["loadingMessage","myApiKey","URL","axiosImages","query","axios","error","iziToast","gallery","displayImages","images","markup","image","SimpleLightbox","form","evt","inputValue"],"mappings":"owBAIA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAW,qCACXC,EAAM,2BAEL,eAAeC,EAAYC,EAAO,CACrC,GAAI,CAUA,OATiB,MAAMC,EAAM,IAAIH,EAAK,CAClC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACb,CAAS,GACe,KAAK,IACxB,OAAQE,EAAO,CACZ,eAAQ,MAAM,yBAA0BA,CAAK,EAC7CC,EAAS,MAAM,CACX,QAAS,6DACT,SAAU,WACV,aAAc,UACd,gBAAiB,SAC7B,CAAS,EACM,EACf,QAAc,CACFP,IAAgBA,EAAe,MAAM,QAAU,OACtD,CACL,CC7BA,MAAMQ,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAClCF,EAAQ,UAAY,GAEpB,MAAMG,EAASD,EACV,IACIE,GAAU;AAAA;AAAA,uBAEAA,EAAM,aAAa;AAAA;AAAA,2BAEfA,EAAM,YAAY;AAAA,2BAClBA,EAAM,IAAI;AAAA,mCACFA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,6CAITA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA,cAGvD,EACA,KAAK,EAAE,EAEZJ,EAAQ,UAAY,GAAGG,CAAM,GAExB,SAMD,SAAS,QAAO,EALhB,SAAW,IAAIE,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,CAIT,CClCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCd,EAAiB,SAAS,eAAe,iBAAiB,EAC1DQ,EAAU,SAAS,cAAc,UAAU,EAEjDM,EAAK,iBAAiB,SAAU,MAAMC,GAAO,CAC3CA,EAAI,eAAc,EAGlB,MAAMC,EADQD,EAAI,OAAO,cAAc,OAAO,EACrB,MAAM,KAAI,EAEnC,GAAIC,IAAe,GAAI,CACrBT,EAAS,MAAM,CACb,QAAS,4BACT,SAAU,WACV,aAAc,UACd,gBAAiB,SACvB,CAAK,EACD,MACD,CAEGP,IAAgBA,EAAe,MAAM,QAAU,SAEnD,GAAI,CACF,MAAMU,EAAS,MAAMP,EAAYa,CAAU,EAE3C,GAAI,CAACN,GAAUA,EAAO,SAAW,EAAG,CAClCF,EAAQ,UAAY,GACpBD,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,WACV,aAAc,UACd,gBAAiB,SACzB,CAAO,EACD,MACD,CAEDE,EAAcC,CAAM,CACrB,MAAe,CACdH,EAAS,MAAM,CACb,QAAS,QACT,SAAU,WACV,aAAc,UACd,gBAAiB,SACvB,CAAK,CACL,QAAY,CACJP,IAAgBA,EAAe,MAAM,QAAU,OACpD,CAEDc,EAAK,MAAK,CACZ,CAAC"}